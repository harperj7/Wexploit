<?php namespace App;

use Illuminate\Database\Eloquent\Model;

class Exploits extends Model {

	protected $fillable = [
		'exploit_title',
		'vendor_name',
		'vendor_link',
		'author',
		'exploit_code_instructions',
		'exploit_code',
		'exploit_fix',
		'exploit_code_language',
		'reliability',
		'cve_reference',
		'signature'
	];

	public static function open(array $attributes) {

		return new static($attributes);

	}

	public function useTemplate($template) {

		$this->template = $template;

		return $this;
	}

	public function recipient() {

		return $this->belongsTo('App\Provider', 'provider_id');
	}

	public function user() {

		return $this->belongsTo('App\User');
	}

	// public function exploitType() {

	// 	return $this->belongsTo('App\ExploitType', 'exploit_type_id');

	// }

	// public function getRecipientEmail() {

	// 	return $this->recipient->copyright_email;
	// }

	// public function getOwnerEmail() {

	// 	return $this->user->email;
	// }

	// public function getExploitType() {

	// 	return $this->exploitType->name;
	// }
}
